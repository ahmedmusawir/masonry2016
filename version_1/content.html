<!DOCTYPE html>
<html lang="">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Title Page</title>

		<!-- Bootstrap CSS -->
		<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

		<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
		<style type="text/css">
			
			#masonry-grid {
				/*width: 33.2%;*/
				/*margin: 0 0 0 5em;*/
				margin-left: 4rem;
			}

			.grid-item {
				/*width: 200px;*/
				width: 25%;
			}

			.grid-item img {
				width: 100%;
				padding: 1em;
			}

			@media screen and (max-width: 800px) {
			/* 5 columns by default */
				.grid-sizer { width: 10%; }
				.grid-item {
					width: 50%;
				}
			}

			@media screen and (min-width: 801px) {
			  /* 10 columns for larger screens */
			  .grid-sizer { width: 5%; }
			}

			@media screen and (max-width: 480px) {
			  /*.grid-sizer { width: 5%; }*/
			  .grid-item {
			  	width: 100%;
			  }

			}

			p {
				padding-left: 1em;
			}

		</style>
	</head>
	<body class="container">
		<h1 class="text-center">jQuery Masonry: Content</h1>

		<div id="grid-filter">

			<select class="form-control">

		    	<option value="">All</option>

		    	<option value="one">City</option>

	    		<option value="two">Nature</option>

			</select>

		</div>

		<br>

		<div id="masonry-grid">

	    	<div class="grid-sizer"></div>

	    	<div class="grid-item one">
	    		<img src="http://lorempixel.com/200/100/city/1" class="img-thumbnail img-responsive">
	    		<p>
	    			Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
	    			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
	    			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
	    			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
	    			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
	    			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	    		</p>
	    	</div>

	    	<div class="grid-item two">
	    		<img src="http://lorempixel.com/200/100/nature/2" class="img-thumbnail img-responsive">
	    		<p>
	    			Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
	    			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
	    			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
	    			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
	    			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
	    			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	    		</p>
	    	</div>

	    	<div class="grid-item two">
	    		<img src="http://lorempixel.com/200/100/nature/3" class="img-thumbnail img-responsive">
	    		<p>
	    			Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
	    			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
	    			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
	    			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
	    			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
	    			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	    		</p>
	    	</div>

	    	<div class="grid-item one">
	    		<img src="http://lorempixel.com/200/100/city/4" class="img-thumbnail img-responsive">
	    		<p>
	    			Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
	    			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
	    			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
	    			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
	    			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
	    			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	    		</p>
	    		<p>
	    			Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
	    			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
	    			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
	    			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
	    			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
	    			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	    		</p>
	    	</div>

	    	<div class="grid-item two">
	    		<img src="http://lorempixel.com/200/100/nature/5" class="img-thumbnail img-responsive">
	    	</div>

	    	<div class="grid-item one">
	    		<img src="http://lorempixel.com/200/100/city/6" class="img-thumbnail img-responsive">
	    	</div>

	    	<div class="grid-item one">
	    		<img src="http://lorempixel.com/200/100/city/7" class="img-thumbnail img-responsive">
	    	</div>

	    	<div class="grid-item two">
	    		<img src="http://lorempixel.com/200/100/nature/8" class="img-thumbnail img-responsive">
	    	</div>

	    	<div class="grid-item two">
	    		<img src="http://lorempixel.com/200/100/nature/9" class="img-thumbnail img-responsive">
	    		<p>
	    			Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
	    			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
	    			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
	    			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
	    			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
	    			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
	    		</p>
	    	</div>

		</div>


		<!-- jQuery -->
		<script src="//code.jquery.com/jquery.js"></script>
		<!-- Bootstrap JavaScript -->
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<script src="js/imagesloaded.pkgd.min.js"></script>
		<script src="//cdnjs.cloudflare.com/ajax/libs/masonry/3.1.5/masonry.pkgd.min.js"></script>
		<script type="text/javascript">

			jQuery(document).ready(function($) {
				// jQuery
				// var $container = jQuery('#masonry-grid');
				// initialize

				// $container.imagesLoaded( function(){
					  // $container.masonry({
					  	// columnWidth: 100,
					    // itemSelector : '.grid-item'
					  // });
				// });
								
			   
			        // This bit sets up jQuery Masonry
				var $container = jQuery('#masonry-grid');

				$container.imagesLoaded( function(){

					$container.masonry({
					  	columnWidth: '.grid-sizer',
					  	// columnWidth: 100,
						itemSelector: '.grid-item'
					});
				});

				// This does the filter by binding an event on the change of a select box
				jQuery("#grid-filter select").on("change", function() {

					// alert($(this).val());

					group = jQuery(this).val();
					group_class = "." + group;
					
					if(group != "") {
						jQuery(".grid-item").hide();
						jQuery(group_class).show();
						jQuery('#masonry-grid').masonry('layout');
					} else {
						jQuery(".grid-item").show();
						jQuery('#masonry-grid').masonry('layout');
					}
				});
			});

			// This is img reload fix without the imagesloaded plugin
			//      $('img').load(function(){
			   //      	$container.masonry({
						//   columnWidth: 200,
						//   itemSelector: '.grid-item'
						// });
			   //      });
			        // $container.masonry();


		</script>
	</body>
</html>